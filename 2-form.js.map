{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n    email: '',\n    message: '',\n  };\n  \n  const stKey = 'feedback-form-state';\n  \n  const refs = {\n    form: document.querySelector('.feedback-form'),\n  };\n  \n  function saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n  }\n  \n  function loadFromLS(key) {\n    const body = localStorage.getItem(key);\n    try {\n      const data = JSON.parse(body);\n      return data;\n    } catch {\n      return body;\n    }\n  }\n  \n  refs.form.addEventListener('input', e => {\n    const email = e.currentTarget.elements.email.value;\n    const message = e.currentTarget.elements.message.value;\n    formData.email = email;\n    formData.message = message;\n    saveToLS(stKey, formData);\n  });\n  \n  function initPage() {\n    const data = loadFromLS(stKey);\n    refs.form.elements.email.value = data?.email || '';\n    refs.form.elements.message.value = data?.message || '';\n  }\n  \n  initPage();\n  \n  refs.form.addEventListener('submit', e => {\n    e.preventDefault();\n  \n    if (formData.email === '' || formData.message === '') {\n      alert('Fill please all fields');\n    } else {\n      console.log(formData);\n      localStorage.removeItem(stKey);\n      e.target.reset();\n    }\n  });"],"names":["formData","stKey","refs","saveToLS","key","value","jsonData","loadFromLS","body","email","message","initPage","data"],"mappings":"oCAAA,MAAMA,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEQC,EAAQ,sBAERC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CACjD,EAEE,SAASC,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACnC,CAED,SAASC,EAAWH,EAAK,CACvB,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAMI,CAAI,CAElC,MAAY,CACN,OAAOA,CACR,CACF,CAEDN,EAAK,KAAK,iBAAiB,QAAS,GAAK,CACvC,MAAMO,EAAQ,EAAE,cAAc,SAAS,MAAM,MACvCC,EAAU,EAAE,cAAc,SAAS,QAAQ,MACjDV,EAAS,MAAQS,EACjBT,EAAS,QAAUU,EACnBP,EAASF,EAAOD,CAAQ,CAC5B,CAAG,EAED,SAASW,GAAW,CAClB,MAAMC,EAAOL,EAAWN,CAAK,EAC7BC,EAAK,KAAK,SAAS,MAAM,OAAQU,GAAA,YAAAA,EAAM,QAAS,GAChDV,EAAK,KAAK,SAAS,QAAQ,OAAQU,GAAA,YAAAA,EAAM,UAAW,EACrD,CAEDD,IAEAT,EAAK,KAAK,iBAAiB,SAAU,GAAK,CACxC,EAAE,eAAc,EAEZF,EAAS,QAAU,IAAMA,EAAS,UAAY,GAChD,MAAM,wBAAwB,GAE9B,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWC,CAAK,EAC7B,EAAE,OAAO,QAEf,CAAG"}